通常一个组件要获得它的依赖，有三种方式：

1. 直接创建出依赖，如使用new操作符
2. 能够查找到依赖，如引用全局变量
3. 在需要的地方传入依赖



依赖注入主要有两种形式 :

1. setter注入
2. constructor注入

setter注入顾名思义，首先使用一个无参的默认构造器构造对象，然后使用setter方法将依赖注入到新对象中。这种方式的一个缺陷是在编译时并不知道对象之间的依赖关系，依赖解析由某种框架在运行时完成。如果在配置依赖时有遗漏，则在运行时会报空引用错误。

对于constructor注入，在构造对象时，将依赖的组件以参数形式传入构造器，传入组件所依赖的组件以相同的方式构造，依此类推，确保依赖链条最顶端的组件首先构造，一直到当前需要注入的对象构造完毕。该方式避免了依赖的遗漏。

DI中包含三个角色，调用者(client), 服务(service)和注入者 (injector)